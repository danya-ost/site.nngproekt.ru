<?php

/** @var \yii\web\View $this */
/** @var \frontend\controllers\ProjectsController $data */
/** @var \frontend\controllers\ProjectsController $permission */

use yii\helpers\Url;

foreach ( $data as $item ):
?>
<div name="projects_item_<?= $item['id'] ?>" data-projects="<?= $item['id'] ?>" class="w-full h-[220px] shadow-[0px_0px_10px_0px_#00000017] bg-white grid grid-cols-[15%_85%] grid-rows-1">
    <div class="relative">
        <div class="w-[45px] h-[45px] rounded-full bg-stone-300 flex items-center justify-center absolute top-2/4 -translate-y-2/4 left-2/4 -translate-x-2/4">
            <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18.1094 3.85938H13.9531V1.78125C13.9531 0.962766 13.2872 0.296875 12.4688 0.296875H6.53125C5.71277 0.296875 5.04688 0.962766 5.04688 1.78125V3.85938H0.890625C0.39952 3.85938 0 4.25893 0 4.75V10.6875C0 11.0745 0.248225 11.4045 0.59375 11.5271V17.2188C0.59375 18.0372 1.25964 18.7031 2.07812 18.7031H16.9219C17.7404 18.7031 18.4062 18.0372 18.4062 17.2188V11.5271C18.7518 11.4045 19 11.0745 19 10.6875V4.75C19 4.25893 18.6005 3.85938 18.1094 3.85938ZM5.64062 1.78125C5.64062 1.29018 6.04014 0.890625 6.53125 0.890625H12.4688C12.9599 0.890625 13.3594 1.29018 13.3594 1.78125V3.85938H12.7656V1.78125C12.7656 1.6173 12.6327 1.48438 12.4688 1.48438H6.53125C6.3673 1.48438 6.23438 1.6173 6.23438 1.78125V3.85938H5.64062V1.78125ZM6.82812 3.85938V2.07812H12.1719V3.85938H6.82812ZM17.8125 17.2188C17.8125 17.7098 17.4129 18.1094 16.9219 18.1094H2.07812C1.58706 18.1094 1.1875 17.7098 1.1875 17.2188V11.5781H7.125V12.1719C7.125 12.6629 7.52456 13.0625 8.01562 13.0625H8.3125V13.6562C8.3125 14.311 8.84521 14.8438 9.5 14.8438C10.1548 14.8438 10.6875 14.311 10.6875 13.6562V13.0625H10.9844C11.4754 13.0625 11.875 12.6629 11.875 12.1719V11.5781H17.8125V17.2188ZM11.2812 12.1719C11.2812 12.3356 11.1481 12.4688 10.9844 12.4688C8.78442 12.4688 9.26725 12.4688 8.01562 12.4688C7.85194 12.4688 7.71875 12.3356 7.71875 12.1719V10.3906C7.71875 10.2269 7.85194 10.0938 8.01562 10.0938H10.9844C11.1481 10.0938 11.2812 10.2269 11.2812 10.3906V12.1719ZM8.90625 13.0625H10.0938V13.6562C10.0938 13.9836 9.82738 14.25 9.5 14.25C9.17262 14.25 8.90625 13.9836 8.90625 13.6562V13.0625ZM18.4062 10.6875C18.4062 10.8512 18.2731 10.9844 18.1094 10.9844H11.875V10.3906C11.875 9.89956 11.4754 9.5 10.9844 9.5H8.01562C7.52456 9.5 7.125 9.89956 7.125 10.3906V10.9844H0.890625C0.726936 10.9844 0.59375 10.8512 0.59375 10.6875V4.75C0.59375 4.58631 0.726936 4.45312 0.890625 4.45312H18.1094C18.2731 4.45312 18.4062 4.58631 18.4062 4.75V10.6875Z" fill="black"/>
            </svg>
        </div>
    </div>
    <div class="py-6 pr-6 pl-2 relative">
        <?php if ( $permission['updateProjects'] ): ?>
            <a href="<?= Url::to(['/projects/update-projects-form', 'p' => $item['id']]) ?>" class="absolute top-3 right-3 text-[#868686] hover:text-main-red">
                <svg width="13" height="13" viewBox="0 0 13 13" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_1127_8460)">
                        <path d="M12.5952 1.5818L11.4172 0.403682C10.8789 -0.134573 10.0032 -0.134548 9.465 0.403682L9.00391 0.8648L12.1342 3.99531L12.5952 3.53419C13.1347 2.99466 13.1348 2.12138 12.5952 1.5818Z"/>
                        <path d="M0.558895 9.56567L0.00637087 12.5496C-0.0164553 12.6729 0.0228494 12.7996 0.111539 12.8883C0.200329 12.9771 0.327028 13.0163 0.450198 12.9935L3.4339 12.4409L0.558895 9.56567Z"/>
                        <path d="M8.46574 1.40332L0.970215 8.89943L4.10047 12.0299L11.596 4.53383L8.46574 1.40332Z"/>
                    </g>
                    <defs>
                        <clipPath id="clip0_1127_8460">
                            <rect width="13" height="13" fill="white"/>
                        </clipPath>
                    </defs>
                </svg>
            </a>
        <?php endif; ?>
        <a href="<?= Url::to(['/projects/view-project', 'p' => $item['id']]) ?>" class="font-medium text-sm">
            <?= $item['title'] ?>
        </a>
        <p class="font-light text-[10px] text-stone-400 mt-4">
            <?= $item['customer'] ?>
        </p>
    </div>
</div>
<?php
endforeach;
if ( count($data) == 0 ):
    ?>
    <div class="font-bold text-sm">
        Ничего не найдено...
    </div>
<?php
endif;