<?php

/** @var \frontend\controllers\ServicesController $data */
/** @var \frontend\controllers\ServicesController $permission */

foreach ( $data as $item ):
    if ( $item['href'] ):
?>
    <div class="bg-white hover:bg-[#F8F8F8] shadow-[0px_0px_10px_0px_#00000017] h-[110px] relative">
        <div class="absolute top-4 right-4">
            <?php if ( $permission['updateServices'] ): ?>
                <button type="button" name="update_services_<?= $item['id'] ?>" class="inline-block align-middle mr-1 font-light text-xs text-stone-400 hover:text-main-red">
                    <svg width="14" height="14" viewBox="0 0 13 13" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_1127_8460)">
                            <path d="M12.5952 1.5818L11.4172 0.403682C10.8789 -0.134573 10.0032 -0.134548 9.465 0.403682L9.00391 0.8648L12.1342 3.99531L12.5952 3.53419C13.1347 2.99466 13.1348 2.12138 12.5952 1.5818Z"/>
                            <path d="M0.558895 9.56567L0.00637087 12.5496C-0.0164553 12.6729 0.0228494 12.7996 0.111539 12.8883C0.200329 12.9771 0.327028 13.0163 0.450198 12.9935L3.4339 12.4409L0.558895 9.56567Z"/>
                            <path d="M8.46574 1.40332L0.970215 8.89943L4.10047 12.0299L11.596 4.53383L8.46574 1.40332Z"/>
                        </g>
                        <defs>
                            <clipPath id="clip0_1127_8460">
                                <rect width="13" height="13" fill="white"/>
                            </clipPath>
                        </defs>
                    </svg>
                </button>
            <?php endif; ?>
            <?php if ( $permission['deleteServices'] ): ?>
                <button type="button" name="services_delete_<?= $item['id'] ?>" class="inline-block align-middle font-light text-xs text-stone-400 hover:text-main-red">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0" />
                    </svg>
                </button>
            <?php endif; ?>
        </div>
        <a href="<?= $item['href_src'] ?>" class="w-full h-full grid grid-cols-[25%_75%] grid-rows-1">
            <div class="relative">
                <div class="w-[45px] h-[45px] bg-stone-300 flex items-center justify-center rounded-full absolute top-2/4 -translate-y-2/4 left-2/4 -translate-x-2/4">
                    <svg width="12" height="22" viewBox="0 0 12 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5.9999 0.312988C4.55036 0.314605 3.16066 0.891148 2.13568 1.91613C1.1107 2.94111 0.53416 4.33081 0.532542 5.78035V17.7908C0.528296 18.3052 0.625927 18.8152 0.819805 19.2916C1.01368 19.768 1.29997 20.2013 1.66215 20.5665C2.02433 20.9316 2.45523 21.2215 2.93 21.4193C3.40477 21.6171 3.914 21.7189 4.42833 21.7189C4.94266 21.7189 5.45189 21.6171 5.92666 21.4193C6.40143 21.2215 6.83233 20.9316 7.19451 20.5665C7.55669 20.2013 7.84298 19.768 8.03685 19.2916C8.23073 18.8152 8.32836 18.3052 8.32412 17.7908V6.28504C8.32412 5.66861 8.07924 5.07744 7.64337 4.64156C7.20749 4.20569 6.61632 3.96082 5.9999 3.96082C5.38348 3.96082 4.7923 4.20569 4.35643 4.64156C3.92055 5.07744 3.67568 5.66861 3.67568 6.28504V17.2421C3.67568 17.3654 3.72466 17.4836 3.81183 17.5708C3.89901 17.6579 4.01724 17.7069 4.14052 17.7069C4.26381 17.7069 4.38204 17.6579 4.46922 17.5708C4.55639 17.4836 4.60537 17.3654 4.60537 17.2421V6.28504C4.60537 5.91518 4.75229 5.56048 5.01382 5.29895C5.27534 5.03743 5.63005 4.8905 5.9999 4.8905C6.36975 4.8905 6.72445 5.03743 6.98598 5.29895C7.24751 5.56048 7.39443 5.91518 7.39443 6.28504V17.7908C7.39814 18.1827 7.32416 18.5714 7.17676 18.9346C7.02936 19.2977 6.81147 19.628 6.53567 19.9064C6.25988 20.1848 5.93164 20.4058 5.56994 20.5567C5.20823 20.7075 4.82022 20.7852 4.42833 20.7852C4.03644 20.7852 3.64843 20.7075 3.28672 20.5567C2.92501 20.4058 2.59678 20.1848 2.32099 19.9064C2.04519 19.628 1.8273 19.2977 1.6799 18.9346C1.5325 18.5714 1.45852 18.1827 1.46223 17.7908V5.78035C1.46223 4.57688 1.9403 3.42271 2.79128 2.57173C3.64226 1.72075 4.79643 1.24268 5.9999 1.24268C7.20336 1.24268 8.35754 1.72075 9.20852 2.57173C10.0595 3.42271 10.5376 4.57688 10.5376 5.78035V10.9999C10.5376 11.1232 10.5865 11.2414 10.6737 11.3286C10.7609 11.4157 10.8791 11.4647 11.0024 11.4647C11.1257 11.4647 11.2439 11.4157 11.3311 11.3286C11.4183 11.2414 11.4673 11.1232 11.4673 10.9999V5.78035C11.4656 4.33081 10.8891 2.94111 9.86412 1.91613C8.83914 0.891148 7.44943 0.314605 5.9999 0.312988Z" fill="black"/>
                    </svg>
                </div>
            </div>
            <div class="flex items-center justify-start">
                <span class="font-medium text-sm text-black">
                    <?= $item['title'] ?>
                </span>
            </div>
        </a>
    </div>
<?php else: ?>
    <div class="bg-white hover:bg-[#F8F8F8] shadow-[0px_0px_10px_0px_#00000017] h-[110px] grid grid-cols-[25%_75%] grid-rows-1 relative">
        <div class="absolute top-4 right-4">
            <?php if ( $permission['updateServices'] ): ?>
                <button type="button" name="update_services_<?= $item['id'] ?>" class="inline-block align-middle mr-1 font-light text-xs text-stone-400 hover:text-main-red">
                    <svg width="14" height="14" viewBox="0 0 13 13" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_1127_8460)">
                            <path d="M12.5952 1.5818L11.4172 0.403682C10.8789 -0.134573 10.0032 -0.134548 9.465 0.403682L9.00391 0.8648L12.1342 3.99531L12.5952 3.53419C13.1347 2.99466 13.1348 2.12138 12.5952 1.5818Z"/>
                            <path d="M0.558895 9.56567L0.00637087 12.5496C-0.0164553 12.6729 0.0228494 12.7996 0.111539 12.8883C0.200329 12.9771 0.327028 13.0163 0.450198 12.9935L3.4339 12.4409L0.558895 9.56567Z"/>
                            <path d="M8.46574 1.40332L0.970215 8.89943L4.10047 12.0299L11.596 4.53383L8.46574 1.40332Z"/>
                        </g>
                        <defs>
                            <clipPath id="clip0_1127_8460">
                                <rect width="13" height="13" fill="white"/>
                            </clipPath>
                        </defs>
                    </svg>
                </button>
            <?php endif; ?>
            <?php if ( $permission['deleteServices'] ): ?>
                <button type="button" name="services_delete_<?= $item['id'] ?>" class="inline-block align-middle font-light text-xs text-stone-400 hover:text-main-red">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0" />
                    </svg>
                </button>
            <?php endif; ?>
        </div>
        <div class="relative">
            <div class="w-[45px] h-[45px] bg-stone-300 flex items-center justify-center rounded-full absolute top-2/4 -translate-y-2/4 left-2/4 -translate-x-2/4">
                <svg width="12" height="22" viewBox="0 0 12 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5.9999 0.312988C4.55036 0.314605 3.16066 0.891148 2.13568 1.91613C1.1107 2.94111 0.53416 4.33081 0.532542 5.78035V17.7908C0.528296 18.3052 0.625927 18.8152 0.819805 19.2916C1.01368 19.768 1.29997 20.2013 1.66215 20.5665C2.02433 20.9316 2.45523 21.2215 2.93 21.4193C3.40477 21.6171 3.914 21.7189 4.42833 21.7189C4.94266 21.7189 5.45189 21.6171 5.92666 21.4193C6.40143 21.2215 6.83233 20.9316 7.19451 20.5665C7.55669 20.2013 7.84298 19.768 8.03685 19.2916C8.23073 18.8152 8.32836 18.3052 8.32412 17.7908V6.28504C8.32412 5.66861 8.07924 5.07744 7.64337 4.64156C7.20749 4.20569 6.61632 3.96082 5.9999 3.96082C5.38348 3.96082 4.7923 4.20569 4.35643 4.64156C3.92055 5.07744 3.67568 5.66861 3.67568 6.28504V17.2421C3.67568 17.3654 3.72466 17.4836 3.81183 17.5708C3.89901 17.6579 4.01724 17.7069 4.14052 17.7069C4.26381 17.7069 4.38204 17.6579 4.46922 17.5708C4.55639 17.4836 4.60537 17.3654 4.60537 17.2421V6.28504C4.60537 5.91518 4.75229 5.56048 5.01382 5.29895C5.27534 5.03743 5.63005 4.8905 5.9999 4.8905C6.36975 4.8905 6.72445 5.03743 6.98598 5.29895C7.24751 5.56048 7.39443 5.91518 7.39443 6.28504V17.7908C7.39814 18.1827 7.32416 18.5714 7.17676 18.9346C7.02936 19.2977 6.81147 19.628 6.53567 19.9064C6.25988 20.1848 5.93164 20.4058 5.56994 20.5567C5.20823 20.7075 4.82022 20.7852 4.42833 20.7852C4.03644 20.7852 3.64843 20.7075 3.28672 20.5567C2.92501 20.4058 2.59678 20.1848 2.32099 19.9064C2.04519 19.628 1.8273 19.2977 1.6799 18.9346C1.5325 18.5714 1.45852 18.1827 1.46223 17.7908V5.78035C1.46223 4.57688 1.9403 3.42271 2.79128 2.57173C3.64226 1.72075 4.79643 1.24268 5.9999 1.24268C7.20336 1.24268 8.35754 1.72075 9.20852 2.57173C10.0595 3.42271 10.5376 4.57688 10.5376 5.78035V10.9999C10.5376 11.1232 10.5865 11.2414 10.6737 11.3286C10.7609 11.4157 10.8791 11.4647 11.0024 11.4647C11.1257 11.4647 11.2439 11.4157 11.3311 11.3286C11.4183 11.2414 11.4673 11.1232 11.4673 10.9999V5.78035C11.4656 4.33081 10.8891 2.94111 9.86412 1.91613C8.83914 0.891148 7.44943 0.314605 5.9999 0.312988Z" fill="black"/>
                </svg>
            </div>
        </div>
        <div class="flex items-center justify-start">
            <span class="font-medium text-sm text-black">
                <?= $item['title'] ?>
            </span>
        </div>
    </div>
<?php
    endif;
endforeach;
if ( count($data) == 0 ):
    ?>
    <div class="font-bold text-sm">
        Ничего не найдено...
    </div>
<?php
endif;